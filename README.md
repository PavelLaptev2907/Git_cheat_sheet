# **Базовые команды, необходимые для освоения интерфейса командной строки Git**

## Информационные команды и их описание


| Команда | Описание |
| ------- | ---------|
|**git config user.name** |**Задать имя пользователя** |
|**git config user.email**|**Задать адрес электронной почты** |
|**git init**|**Инициализировать репозиторий**|
|**git status**|**Проверить статус репозитория**|
|**git add**|**Подготовить файлы к сохранению**|
|**git commit -m 'Описание комита'**|**Внести изменения однострочным сообщением или через редактор**|
|**git remote add**|**Привязать удалённый репозиторий к локальному. Пример: git remote add origin git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_ЛОКАЛЬНОГО_РЕПОЗИТОРИЯ%**|
|**git push**|**Отправить изменения на удалённый репозиторий**|
|**git log -p**|**Просмотреть истории коммитов с изменениями**|

# **Mermaid-схема для наглядности описания работы с командной строкой Git**

## **Статусы файлов в Git**

```mermaid
graph LR;
  untracked(неотслеживаемый)  -- "git add"             --> staged(в списке на коммит);
  staged (в списке на коммит) -- "git commit"          --> tracked (отслеживаемый);
  tracked (отслеживаемый)     -- "внесенные изменения" --> modified(измененный);
  modified(измененный)        -- "git add"             --> staged (в списке на коммит)+tracked;
```

## **Важное:**
1. Статусом untracked помечается файл, о существовании которого Git знает, но не следит за изменениями в нём. Этот статус — противоположность tracked, в который попадают все файлы, отслеживаемые Git.
2. Файл переходит в статус staged после выполнения git add.
3. Статус modified означает, что файл был изменён.
4. Большинство файлов в проектах «шагает» по следующему циклу: «изменён» → «добавлен в список на коммит» → «закоммичен» → «изменён» → и так далее.

## **Хеш** — основной идентификатор коммита.
1. Git преобразует информацию о коммитах с помощью алгоритма SHA-1 и для каждого из них рассчитывает уникальный идентификатор — хеш.
2. Хеш — основной идентификатор коммита и позволяет узнать его автора, дату и содержимое закоммиченных файлов.
3. Все хеши, а также таблицу соответствий хеш → информация о коммите Git хранит в папке .git.

## **ЛОГИ**
1. Можно вызвать не только полный лог, но и сокращённый — это делается командой git log --oneline.
2. В сокращённом логе выводятся сокращённые хеши — их можно использовать точно так же, как и полные.


## **HEAD — всему голова**
1. В числе прочих файлов в папке .git есть служебный файл HEAD. Он указывает на самый свежий коммит.
2. Вместо хеша последнего коммита можно написать слово HEAD — Git вас поймёт.

## **Флаг --amend — ваш союзник**
В ходе работы вам наверняка ещё не раз понадобится внести какие-то исправления в историю коммитов.
1. --amend рассчитан на работу с последним коммитом (HEAD).
2. Дополнить коммит новыми файлами можно с помощью git commit --amend --no-edit. Благодаря опции --no-edit сообщение к коммиту останется таким, каким и было.
3. Изменить сообщение к коммиту позволяет команда git commit --amend -m "Обновлённое сообщение коммита".

## **Как откатиться назад, если «всё сломалось»**

1. Команда git restore --staged <file> переведёт файл из staged обратно в modified или untracked.
2. Команда git reset --hard <commit hash> «откатит» историю до коммита с хешем <hash>. Более поздние коммиты потеряются!
3. Команда git restore <file> «откатит» изменения в файле до последней сохранённой (в коммите или в staging) версии.

## **Просматриваем изменения в файлах**
1. Команда git diff сравнит последнюю закоммиченную версию файла с той, что находится в состоянии modified.
2. Команда git diff --staged покажет изменения в staged-файлах относительно последних закоммиченных версий.

## **Команда git diff**
1. Эта команда поможет узнать, какие строки и в каких файлах изменились. 
2. Может быть полезно при поиске ошибок или чтобы разобраться, откуда появилась та или иная строка. В этом уроке вы также познакомились с командой git diff <коммит1> <коммит2>. 
3. С её помощью удобно сравнивать изменения в двух коммитах.